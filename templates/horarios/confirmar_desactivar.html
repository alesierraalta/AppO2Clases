{% extends 'base.html' %}

{% block title %}Confirmar {% if horario.activo is defined and horario.activo %}Desactivación{% else %}Activación{% endif %} de Horario - Sistema de Gestión de Clases{% endblock %}

{% block content %}
<div class="container mt-4">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{{ url_for('index') }}">Inicio</a></li>
            <li class="breadcrumb-item"><a href="{{ url_for('listar_horarios') }}">Horarios</a></li>
            <li class="breadcrumb-item active">Confirmar {% if horario.activo is defined and horario.activo %}Desactivación{% else %}Activación{% endif %}</li>
        </ol>
    </nav>
    
    <div class="card">
        <div class="card-header bg-{% if horario.activo is defined and horario.activo %}warning{% else %}success{% endif %}">
            <h4 class="mb-0 text-white">
                <i class="fas fa-{% if horario.activo is defined and horario.activo %}power-off{% else %}check-circle{% endif %} me-2"></i>
                Confirmar {% if horario.activo is defined and horario.activo %}Desactivación{% else %}Activación{% endif %} de Horario
            </h4>
        </div>
        <div class="card-body">
            <p class="lead">¿Está seguro que desea {% if horario.activo is defined and horario.activo %}desactivar{% else %}activar{% endif %} el siguiente horario?</p>
            
            <div class="alert alert-info">
                <h5 class="alert-heading"><i class="fas fa-info-circle me-2"></i>Información del horario</h5>
                <p><strong>Nombre:</strong> {{ horario.nombre }}</p>
                <p><strong>Día:</strong> {{ horario.nombre_dia }}</p>
                <p><strong>Hora:</strong> {{ horario.hora_inicio.strftime('%H:%M') }}</p>
                <p><strong>Profesor:</strong> {{ horario.profesor.nombre }} {{ horario.profesor.apellido }}</p>
                <p><strong>Estado actual:</strong> <span class="badge bg-{% if horario.activo is defined and horario.activo %}success{% else %}secondary{% endif %}">{{ estado_actual }}</span></p>
            </div>
            
            {% if horario.activo is defined and horario.activo %}
            <div class="alert alert-warning">
                <i class="fas fa-exclamation-triangle me-2"></i>
                <strong>¡Importante!</strong> Al desactivar este horario, no aparecerá en la lista de clases pendientes ni en las clases no registradas.
                Sin embargo, seguirá visible en la lista de horarios y puede ser activado nuevamente en cualquier momento.
            </div>
            {% endif %}
            
            <form method="post">
                <div class="text-center mt-4">
                    <input type="hidden" name="opcion" value="{% if horario.activo is defined and horario.activo %}desactivar{% else %}activar{% endif %}">
                    <a href="{{ url_for('listar_horarios') }}" class="btn btn-secondary me-2">
                        <i class="fas fa-times me-1"></i> Cancelar
                    </a>
                    <button type="submit" class="btn btn-{% if horario.activo is defined and horario.activo %}warning{% else %}success{% endif %}">
                        <i class="fas fa-{% if horario.activo is defined and horario.activo %}power-off{% else %}check-circle{% endif %} me-1"></i>
                        {% if horario.activo is defined and horario.activo %}Desactivar{% else %}Activar{% endif %} Horario
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %} 